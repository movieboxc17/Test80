<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Upload</title>
</head>
<body>
    <h1>Product Upload</h1>
    <form id="upload-form">
        <input type="password" id="password" placeholder="Enter password" required><br><br>
        <input type="text" id="product-name" placeholder="Product Name" required><br><br>
        <input type="number" id="product-price" placeholder="Product Price" required><br><br>
        <button type="submit">Upload</button>
    </form>
    
    <!-- Add a button or link to navigate back to the shop page -->
    <a href="index.html">Back to Shop</a>

    <h2>Uploaded Products</h2>
    <ul id="uploaded-product-list">
        <!-- Uploaded product items will be dynamically added here -->
    </ul>

    <script>
        // JavaScript code for password authentication and product upload goes here
        const uploadForm = document.getElementById("upload-form");
        const uploadedProductList = document.getElementById("uploaded-product-list");

        uploadForm.addEventListener("submit", function (e) {
            e.preventDefault();
            const password = document.getElementById("password").value;

            // Check if the password is correct
            if (password !== "Hello123") {
                alert("Incorrect password. Product upload denied.");
                return;
            }

            const productName = document.getElementById("product-name").value;
            const productPrice = document.getElementById("product-price").value;

            // Create a product object
            const product = { name: productName, price: productPrice };

            // Retrieve existing products from local storage or initialize as an empty array
            const existingProducts = JSON.parse(localStorage.getItem("products")) || [];

            // Add the new product to the array
            existingProducts.push(product);

            // Store the updated product list in local storage
            localStorage.setItem("products", JSON.stringify(existingProducts));

            // Clear the form fields
            document.getElementById("product-name").value = "";
            document.getElementById("product-price").value = "";

            // Optionally, update the displayed product list on the upload page
            displayUploadedProducts();
        });

        // Function to display uploaded products from local storage
        function displayUploadedProducts() {
            uploadedProductList.innerHTML = "";

            const products = JSON.parse(localStorage.getItem("products")) || [];
            products.forEach((product, index) => {
                const listItem = document.createElement("li");
                listItem.innerHTML = `${product.name} - $${product.price} 
                <button onclick="deleteProduct(${index})">Delete</button>`;
                uploadedProductList.appendChild(listItem);
            });
        }

        // Function to delete a product from the list
        function deleteProduct(index) {
            const products = JSON.parse(localStorage.getItem("products")) || [];
            products.splice(index, 1); // Remove the product at the specified index
            localStorage.setItem("products", JSON.stringify(products));
            displayUploadedProducts(); // Refresh the displayed product list
        }

        // Call the displayUploadedProducts function to show any previously uploaded products
        displayUploadedProducts();
    </script>
</body>
</html>
